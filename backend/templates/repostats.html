{% extends "layout.html" %}
{% block title %}
<title>Traffic Data - Github Traffic Analytics</title>
{% endblock %}

{% block extra_stylesheets %}
  <link href="{{ url_for('static', filename='dataTables.bulma.min.css')}}" rel="stylesheet">
  <link href="{{ url_for('static', filename='jquery.dataTables.css')}}" rel="stylesheet">
{% endblock %}

{% block body %}
<div id="main" class="container">
    <h2 class="title is-2">Repository Traffic Data</h2>
    <table id="repotraffic" class="table table-bordered table is-striped" summary="Table with repository views">
      <thead>
      <tr>
        <th>#</th>
        <th>Org</th>
        <th>Repo</th>
        <th>Date</th>
        <th>viewcount</th>
        <th>view uniques</th>
        <th>clonecount</th>
        <th>clone uniques</th>
      </tr>
      </thead>
    </tbody>
    </table>
</div>
{% endblock %}
{% block extra_javascripts %}
<script src="{{ url_for('static', filename='jquery-3.3.1.min.js')}}"></script>
<script src="{{ url_for('static', filename='jquery.dataTables.min.js')}}"></script>
<script src="{{ url_for('static', filename='dataTables.bulma.min.js')}}"></script>
<script>
    $('#repotraffic').DataTable({"ajax": "/data/repostats.txt", "order": [[ 3, "desc" ], [ 0, 'asc' ]]});
</script>
{% endblock %}
